<h1 align="center">
  <a href="https://github.com/toshan-luktuke/stock-market-analyser">
    <img src="https://static8.depositphotos.com/1010683/891/i/600/depositphotos_8910408-stock-photo-stock-market-price-abstract.jpg" alt="Stock Photo" width="125" height="125">
  </a>
  <br>
  Stock Market Analyzer 
</h1>
 
<div align="center">
   <strong>Stock Market Analyzer</strong> - This web app uses machine learning to analyse the stock market. <br>
  Inheritance '21 - Team S.T.A.R. <br> <br>
  <a href="https://github.com/toshan-luktuke/stock-market-analyser/issues"><img alt="GitHub issues" src="https://img.shields.io/github/issues/toshan-luktuke/stock-market-analyser?color=red&style=for-the-badge"></a>
  <a href="https://github.com/toshan-luktuke/stock-market-analyser/stargazers"><img alt="GitHub stars" src="https://img.shields.io/github/stars/toshan-luktuke/stock-market-analyser?style=for-the-badge"></a>
  <a href="https://img.shields.io/github/contributors/toshan-luktuke/stock-market-analyser?logo=GitHub&logoColor=red&style=for-the-badge"><img alt="GitHub contributors" src="https://img.shields.io/github/contributors/toshan-luktuke/stock-market-analyser?logo=GitHub&style=for-the-badge"></a>
  
</div>

<hr>

<details>
<summary>Table of Contents</summary>

- [Description](#description)
- [Links](#links)
- [Tech Stack](#tech-stack)
- [Progress](#progress)
- [Future Scope](#future-scope)
- [Project Setup](#project-setup)
- [Usage](#usage)
- [Contributors](#contributors)
- [Mentors](#mentors)

</details>

## üìùDescription

<table>
  <tr>
    <td>
A blazing fast web application to analyze the current trends in the stock a user chooses. The app applies a variety of algorithms to make the analysis of the user easier based on historical data from the exchanges. An ML price predictor is also implemented.
<br><br>
      The <i>key features</i> of <strong>stock market analyzer</strong>:
      <ul>
<li> Select your desired listed stock
<li> Get the analysis of that stock
<li> Get future predictions based on the stock's previous history
      </ul>
    </td>
  </tr>
  </table>
  
## üîóLinks

### Frontend (Vercel)
- [**Stock Market Analyser**](https://stock-market-analyser.vercel.app/) üöÄ

### Assets
- [GitHub Repo](https://github.com/toshan-luktuke/stock-market-analyser)
- [Drive link for Recordings & Screenshots](https://drive.google.com/drive/folders/1A4iOlkxtDlkG3PurklooRA8DYiPBIil9)

### Backend (Heroku)
- [Stock Market Analyser Server](https://stock-market-analyser-backend.herokuapp.com/)
- [Stock Market Analyser Linear Regression Model Deployment](https://stock-ml-backend.herokuapp.com/stock_lr/)
- [Stock Market Analyser ANN Model Deployment](https://stock-analyser-ann.herokuapp.com/)

### While learningü•∫
- [The First Attempt](https://stock-market-analyser-seven.vercel.app/) üòÇ

## ü§ñTech-Stack
<a href="https://www.python.org/" title="Python"><img src="https://github.com/get-icon/geticon/raw/master/icons/python.svg" alt="Python" width="31px" height="31px"></a>
<a href="https://numpy.org/" title="Numpy"><img src="https://github.com/get-icon/geticon/blob/master/icons/numpy-icon.svg" alt="Numpy" width="31px" height="31px"></a>
<a href="https://pandas.pydata.org/" title="pandas"><img src="https://github.com/get-icon/geticon/raw/master/icons/pandas-icon.svg" alt="pandas" width="31px" height="31px"></a>
<a href="https://scikit-learn.org/stable/" title="scikit-learn"><img src="https://scikit-learn.org/stable/_static/scikit-learn-logo-small.png" alt="scikit-learn" width="71px" height="31px"></a>
<a href="https://matplotlib.org/" title="matplot"><img src="https://matplotlib.org/_static/images/logo2.svg" alt="matplot" width="71px" height="31px"></a>
<a href="https://seaborn.pydata.org/" title="Seaborn"><img src="https://seaborn.pydata.org/_static/logo-wide-lightbg.svg" alt="Seaborn" width="71px" height="31px"></a>
<a href="https://www.tensorflow.org/" title="Tensorflow"><img src="https://github.com/get-icon/geticon/raw/master/icons/tensorflow.svg" alt="Tensorflow" width="31px" height="31px"></a>
<a href="https://www.w3.org/TR/html5/" title="HTML5"><img src="https://github.com/get-icon/geticon/raw/master/icons/html-5.svg" alt="HTML5" width="31px" height="31px"></a>
<a href="https://www.w3.org/TR/CSS/" title="CSS3"><img src="https://github.com/get-icon/geticon/raw/master/icons/css-3.svg" alt="CSS3" width="31px" height="31px"></a>
<a href="https://tailwindcss.com/" title="Tailwind"><img src="https://github.com/get-icon/geticon/blob/master/icons/tailwindcss-icon.svg" alt="Tailwind" width="31px" height="31px"></a>
<a href="https://postcss.org/" title="PostCSS"><img src="https://github.com/get-icon/geticon/blob/master/icons/postcss.svg" alt="PostCSS" width="31px" height="31px"></a>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" title="JavaScript"><img src="https://github.com/get-icon/geticon/raw/master/icons/javascript.svg" alt="JavaScript" width="31px" height="31px"></a>
<a href="https://nodejs.org/en/" title="Node JS"><img src="https://github.com/get-icon/geticon/blob/master/icons/nodejs-icon.svg" alt="Node JS" width="31px" height="31px"></a>
<a href="https://nodemon.io/" title="Nodemon"><img src="https://github.com/get-icon/geticon/blob/master/icons/nodemon.svg" alt="Nodemon" width="31px" height="31px"></a>
<a href="https://eslint.org/" title="ESLint"><img src="https://github.com/get-icon/geticon/blob/master/icons/eslint.svg" alt="ESLint" width="31px" height="31px"></a>
<a href="https://reactjs.org/" title="React"><img src="https://github.com/get-icon/geticon/raw/master/icons/react.svg" alt="" width="31px" height="31px"></a>
<a href="https://expressjs.com/" title="Express"><img src="https://github.com/get-icon/geticon/raw/master/icons/express.svg" alt="" width="31px" height="31px"></a>
<a href="https://flask.palletsprojects.com/en/2.0.x/" title="Flask"><img src="https://github.com/get-icon/geticon/blob/master/icons/flask.svg" alt="Flask" width="31px" height="31px"></a>

## üìàProgress

- [x] Search any stock and get real-time updates, along with historical data and reviews
- [x] Autosuggest Searchbar
- [x] Latest Financial News Section
- [x] r/WallStreetBets Sentiment Analysis
- [x] Dark Mode implementation
- [x] Server-side endpoint
- [x] API for the linear regression model
- [x] API for the ANN model
- [x] Hosting the model
- [x] Market Dashboard
- [x] Linking the predictions page through the REST API for the model (has been tested on the localhost)
- [x] Real-time charts (partially added, dark-mode sync and responsiveness are remaining)

## üîÆFuture Scope

- Add a portfolio where a user can create an account and pin the stocks of his interest, using MongoDB
- Improve the searchbar autosuggest performance with a regex-based implementation at the server-side
- Cache requests at the proxy server for a snappy real-time performance
- An UpStox-inspired computer application, using ElectronJS

## üõ†Project Setup

### For the web-app

1. Clone the GitHub repo
   ```
   $ git clone https://github.com/toshan-luktuke/stock-market-analyser.git
   ```
2. Enter the `client` directory. Install all the required dependencies. Ensure that remove any globally-installed packages like the React CLI, Tailwind CLI, PostCSS CLI or ESLint are uninstalled before proceeding ahead
   ```
   $ cd client
   $ npm install
   ```
3. Repeat the same process for the `server` directory once all the dependencies for the `client` directory are installed
   ```
   $ cd ../server
   $ npm install
   ```
   Also setup the `.env` file for storing the environment variables. A demo file for this is as follows:
   ```
   PORT = 5000
   API_KEY_AV = your AlphaVantage API key
   API_KEY_YF = your YahooFinance API key
   API_KEY_FMP = your FinancialModellingPrep API key
   ```
4. If you are working on Visual Studio Code or WebStorm, it'd be convenient to install the extensions for [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) and [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint).

### For the model

1. Create a virtual environment on the anaconda command prompt (Install [conda](https://docs.conda.io/en/latest/) if not installed) and then switch to that virtual environment. Lets say the name of the env is test.
   ```
   $ conda create -n test python=3.8 anaconda
   $ conda activate test
   ```
2. Enter the `Model` directory look for requirments.txt and install the packages.
   ```
   $ pip install -r requirements.txt
   ```

### For the Flask API

1. Look for the `main.py` and `test.py` files in the `Model` directory and have them ready. (The packages for flask would already be installed when you run previous command number 2 in the above section)

## üíªUsage

Once the required setup and installation is completed, you can start developing and running the project.

### For the web-app

1. Backend: Go to the `server` directory and run the `dev` script to activate nodemon
   ```
   $ cd server
   $ npm run dev
   ```
   Before pushing any commit, make sure to run the `lint` script and fix any linting errors
   ```
   $ npm run lint
   ```
   The requests will be listened at the `localhost` port which was specified in the `.env` file. For example, if it was specified as 5000, the requests should be made at `http://localhost:5000/` <br> <br>
   Use the browser or any other API-testing client like [Postman](https://www.postman.com/) or [Insomnia](https://insomnia.rest/) to test any newly added routes. <br> <br>
2. Frontend: Go to the `client` directory and run the `start` script to start the React App.
   ```
   $ cd client
   $ npm start
   ```
   The web-app can be viewed at `http://localhost:3000/` <br> <br>
   If you get an ESLint, Tailwind or PostCSS version conflict error, make a `.env` file in the `client` directory with the following contents:
   ```
   SKIP_PREFLIGHT_CHECK = true
   ```

### For the model and for the Flask API

1. Locate to the `Model` directory. The models for the project are in `linear_reg_model.py` and `ann_model.py` files.

2. Open the command prompt for anaconda and switch to the virtual environment that you created and locate to the `Model` directory. (example: test)

   ```
   $ conda activate test
   ```

3. Open another command prompt for anaconda and switch to the virtual environment that you created and locate to the `Model` directory. (example: test)

   ```
   $ conda activate test
   ```

4. To initiate the server, type the following in the first command prompt

   ```
   $ python main.py
   ```

5. To run the linear regression model, type the following in the second prompt while the server is running.
   ```
   $ python test.py
   ```

## üîÆFuture scope

You can follow the below mentioned steps to create a model of your desired stock. You can also refer the video tutorial in the gdrive link
It is important to know that these steps must be performed only after setting up the virtual environment

### Linear regression models

1. Pull the `ml-dev` branch onto your local machine

```
$ git switch ml-dev
```
        
2. Once inside your text-editor, open the linear_reg_model.py file inside `Model` folder. At the end of the file call the `find_r` function    

```
# At the file saving part edit the name of the file path as the code name of the stock.
# example: filename="../Models/Linear regression/stock_name.pkl"
# At the end of the file
find_r(Stock name)
```

3. This will create a `.pkl` file in the Models folder.

4. Now add the stock name as a string in the array `list_stocks` in the file main.py

5. You can now execute the main.py and test.py files on your local machine as stated in the above section

```
# In the first conda prompt
$ python main.py
# In the second conda prompt
$ python test.py 
```
        
Here you can enter the code name of the stock and the prediction will be displayed

### ANN models

1. Switch over to the `ml-host-ann` branch locally

```
$ git checkout ml-host-ann
```

2. Open the ann_model.py file currently in the Model folder, and call the `find` function towards the very end

```
# While saving the file, rename the path of the file as the code name of the particular stock.
# As: "../Models/ANN/stock_name.h5"
# Towards the end, call the find function
# find(Stock_name)
```

This will create a `.h5` file in the Models folder

4. Once this is done, add the stock name in the array `list_stocks` in main.py on the same branch

5. Execute the 2 files main.py & test.py locally as shown above (similar to Step 5 of Linear Regression)

On entering the valid stock name, your prediction will be displayed


## üë©‚ÄçüíªContributors

Team members

- [**S**arvagnya Purohit](https://github.com/saRvaGnyA) - sarvagnyapurohit@gmail.com
- [**T**oshan Luktuke](https://github.com/toshan-luktuke) - toshan1603@gmail.com
- [**A**lisha Kamat](https://github.com/alisha-kamat) - alishakamat8@gmail.com
- [**R**ushabh Maru](https://github.com/RushabhM03) - rushabh.maru123@gmail.com

## üë®‚Äçüè´Mentors

- [Utsav Khatu](https://github.com/utsavk28)
- [Vishal Patil](https://github.com/vishalpatil18)
- [Mithilesh Patil](https://www.youtube.com/watch?v=dQw4w9WgXcQ)
- [Atharva Alshi](https://github.com/atharva1608)
